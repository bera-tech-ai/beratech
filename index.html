<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DEVS ARENA - Ultimate Developer Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e'
                        },
                        dark: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a'
                        }
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'glow': 'glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' }
                        },
                        glow: {
                            '0%': { boxShadow: '0 0 20px rgba(14, 165, 233, 0.3)' },
                            '100%': { boxShadow: '0 0 30px rgba(14, 165, 233, 0.6)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glassmorphic {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%);
        }
        .neon-glow {
            box-shadow: 0 0 20px rgba(14, 165, 233, 0.4);
        }
        .code-editor {
            background: #1e293b;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }
        .syntax-js { color: #f7df1e; }
        .syntax-html { color: #e34f26; }
        .syntax-css { color: #1572b6; }
        .syntax-py { color: #3776ab; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #0ea5e9;
            border-radius: 3px;
        }
        
        /* Navigation animations */
        .nav-item {
            position: relative;
            transition: all 0.3s ease;
        }
        .nav-item::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: #0ea5e9;
            transition: width 0.3s ease;
        }
        .nav-item:hover::after {
            width: 100%;
        }
        
        /* Dropdown animations */
        .dropdown-enter {
            opacity: 0;
            transform: translateY(-10px);
        }
        .dropdown-enter-active {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="gradient-bg text-white min-h-screen font-sans">
    <!-- Enhanced Navigation -->
    <nav class="glassmorphic fixed w-full z-50 border-b border-slate-700/50">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <div class="w-10 h-10 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl flex items-center justify-center neon-glow">
                            <i class="fas fa-code text-white text-lg"></i>
                        </div>
                        <div class="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                    </div>
                    <div>
                        <span class="text-xl font-bold bg-gradient-to-r from-primary-400 to-primary-300 bg-clip-text text-transparent">DEVS ARENA</span>
                        <div class="text-xs text-primary-300">v3.0.0</div>
                    </div>
                </div>
                
                <!-- Navigation Menu -->
                <div class="hidden lg:flex items-center space-x-1">
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-home text-primary-400"></i>
                            <span>Dashboard</span>
                        </button>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-comments text-green-400"></i>
                            <span>Chat</span>
                            <i class="fas fa-chevron-down text-xs opacity-60"></i>
                        </button>
                        <div class="absolute top-full left-0 mt-2 w-48 glassmorphic rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 dropdown-enter">
                            <div class="p-2">
                                <a href="#global-chat" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-globe text-blue-400"></i>
                                    <span>Global Chat</span>
                                </a>
                                <a href="#frontend-chat" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fab fa-js-square text-yellow-400"></i>
                                    <span>Frontend</span>
                                </a>
                                <a href="#backend-chat" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-server text-green-400"></i>
                                    <span>Backend</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-code-branch text-purple-400"></i>
                            <span>Projects</span>
                        </button>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-plug text-orange-400"></i>
                            <span>API Hub</span>
                            <i class="fas fa-chevron-down text-xs opacity-60"></i>
                        </button>
                        <div class="absolute top-full left-0 mt-2 w-56 glassmorphic rounded-xl shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300">
                            <div class="p-2">
                                <a href="#api-list" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-list text-blue-400"></i>
                                    <span>API Library</span>
                                </a>
                                <a href="#api-testing" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-vial text-green-400"></i>
                                    <span>Testing Playground</span>
                                </a>
                                <a href="#api-submit" class="flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-plus text-purple-400"></i>
                                    <span>Submit API</span>
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-robot text-cyan-400"></i>
                            <span>AI Assistant</span>
                        </button>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-graduation-cap text-yellow-400"></i>
                            <span>Devs School</span>
                        </button>
                    </div>
                    
                    <div class="relative group">
                        <button class="nav-item px-4 py-2 rounded-lg flex items-center space-x-2 hover:bg-slate-800/50 transition-all duration-300">
                            <i class="fas fa-trophy text-red-400"></i>
                            <span>Hackathons</span>
                        </button>
                    </div>
                </div>

                <!-- Right Side Actions -->
                <div class="flex items-center space-x-3">
                    <!-- Notifications -->
                    <div class="relative group">
                        <button id="notificationsBtn" class="p-2 rounded-xl glassmorphic hover:neon-glow transition-all duration-300 relative">
                            <i class="fas fa-bell text-lg"></i>
                            <span id="notificationCount" class="absolute -top-1 -right-1 bg-red-500 text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                        </button>
                        <!-- Notifications Dropdown -->
                        <div id="notificationsPanel" class="absolute right-0 top-12 w-80 glassmorphic rounded-xl shadow-2xl hidden transform transition-all duration-300 dropdown-enter">
                            <div class="p-4 border-b border-slate-700">
                                <div class="flex justify-between items-center">
                                    <h3 class="font-semibold">Notifications</h3>
                                    <button class="text-xs text-primary-400 hover:text-primary-300">Mark all read</button>
                                </div>
                            </div>
                            <div id="notificationsList" class="max-h-96 overflow-y-auto p-2">
                                <!-- Notifications will load here -->
                            </div>
                        </div>
                    </div>

                    <!-- Theme Toggle -->
                    <button id="themeToggle" class="p-2 rounded-xl glassmorphic hover:neon-glow transition-all duration-300">
                        <i class="fas fa-moon text-lg"></i>
                    </button>

                    <!-- User Auth/Profile -->
                    <div id="authButtons" class="flex space-x-2">
                        <button onclick="showAuthModal('login')" class="px-4 py-2 rounded-xl glassmorphic hover:neon-glow transition-all duration-300 font-medium">
                            Sign In
                        </button>
                        <button onclick="showAuthModal('register')" class="px-4 py-2 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl hover:neon-glow transition-all duration-300 font-medium">
                            Get Started
                        </button>
                    </div>

                    <!-- User Menu -->
                    <div id="userMenu" class="hidden relative group">
                        <button id="userDropdownBtn" class="flex items-center space-x-3 p-2 rounded-xl glassmorphic hover:neon-glow transition-all duration-300">
                            <img id="userAvatar" class="w-8 h-8 rounded-lg" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face" alt="Avatar">
                            <div class="text-left">
                                <div id="userName" class="text-sm font-medium">Loading...</div>
                                <div id="userRole" class="text-xs text-primary-400">Developer</div>
                            </div>
                            <i class="fas fa-chevron-down text-xs opacity-60"></i>
                        </button>
                        
                        <!-- User Dropdown -->
                        <div id="userDropdown" class="absolute right-0 top-12 w-64 glassmorphic rounded-xl shadow-2xl hidden transform transition-all duration-300 dropdown-enter">
                            <div class="p-4 border-b border-slate-700">
                                <div class="flex items-center space-x-3">
                                    <img id="dropdownAvatar" class="w-12 h-12 rounded-xl" src="" alt="Avatar">
                                    <div>
                                        <div id="dropdownName" class="font-semibold">User Name</div>
                                        <div id="dropdownEmail" class="text-sm text-slate-400">user@example.com</div>
                                    </div>
                                </div>
                            </div>
                            <div class="p-2">
                                <a href="#profile" class="flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-user text-blue-400"></i>
                                    <span>My Profile</span>
                                </a>
                                <a href="#settings" class="flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-cog text-green-400"></i>
                                    <span>Settings</span>
                                </a>
                                <a href="#projects" class="flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition">
                                    <i class="fas fa-code-branch text-purple-400"></i>
                                    <span>My Projects</span>
                                </a>
                                <div id="adminSection" class="hidden border-t border-slate-700 mt-2 pt-2">
                                    <a href="#admin" class="flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-slate-800/50 transition text-yellow-400">
                                        <i class="fas fa-shield-alt"></i>
                                        <span>Admin Dashboard</span>
                                    </a>
                                </div>
                            </div>
                            <div class="p-2 border-t border-slate-700">
                                <button onclick="logout()" class="flex items-center space-x-3 w-full px-3 py-2 rounded-lg hover:bg-red-500/20 transition text-red-400">
                                    <i class="fas fa-sign-out-alt"></i>
                                    <span>Sign Out</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu Button -->
    <div class="lg:hidden fixed bottom-6 right-6 z-50">
        <button id="mobileMenuBtn" class="w-14 h-14 bg-gradient-to-r from-primary-500 to-primary-600 rounded-full flex items-center justify-center neon-glow shadow-2xl">
            <i class="fas fa-bars text-white text-xl"></i>
        </button>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="fixed inset-0 bg-black/50 z-40 hidden lg:hidden">
        <div class="absolute bottom-0 left-0 right-0 glassmorphic rounded-t-3xl p-6 transform translate-y-full transition-transform duration-300">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-lg font-semibold">Menu</h3>
                <button id="closeMobileMenu" class="p-2">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <div class="space-y-3">
                <a href="#dashboard" class="flex items-center space-x-3 p-3 rounded-xl bg-slate-800/50">
                    <i class="fas fa-home text-primary-400"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#chat" class="flex items-center space-x-3 p-3 rounded-xl bg-slate-800/50">
                    <i class="fas fa-comments text-green-400"></i>
                    <span>Chat</span>
                </a>
                <a href="#projects" class="flex items-center space-x-3 p-3 rounded-xl bg-slate-800/50">
                    <i class="fas fa-code-branch text-purple-400"></i>
                    <span>Projects</span>
                </a>
                <a href="#apis" class="flex items-center space-x-3 p-3 rounded-xl bg-slate-800/50">
                    <i class="fas fa-plug text-orange-400"></i>
                    <span>API Hub</span>
                </a>
                <a href="#ai" class="flex items-center space-x-3 p-3 rounded-xl bg-slate-800/50">
                    <i class="fas fa-robot text-cyan-400"></i>
                    <span>AI Assistant</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="pt-20 pb-20 lg:pb-10">
        <!-- Hero Section -->
        <section class="container mx-auto px-4 py-16 lg:py-24">
            <div class="text-center max-w-4xl mx-auto">
                <div class="inline-flex items-center space-x-2 bg-slate-800/50 rounded-full px-4 py-2 mb-8 border border-slate-700">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    <span class="text-sm text-slate-300">LIVE - Developers Online Now</span>
                </div>
                
                <h1 class="text-5xl lg:text-7xl font-bold mb-6">
                    <span class="bg-gradient-to-r from-primary-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent">
                        DEVS ARENA
                    </span>
                </h1>
                
                <p class="text-xl lg:text-2xl text-slate-300 mb-8 leading-relaxed">
                    The Ultimate <span class="text-primary-400 font-semibold">Digital Ecosystem</span> for Developers. 
                    Code, Collaborate, Learn, and Build Together in Real-Time.
                </p>
                
                <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 mb-12">
                    <button onclick="showAuthModal('register')" class="px-8 py-4 bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl text-lg font-semibold hover:neon-glow transition-all duration-300 transform hover:scale-105 shadow-2xl">
                        <i class="fas fa-rocket mr-2"></i>
                        Launch Your Journey
                    </button>
                    <button onclick="scrollToSection('features')" class="px-8 py-4 glassmorphic rounded-xl text-lg font-semibold hover:neon-glow transition-all duration-300 border border-slate-700">
                        <i class="fas fa-compass mr-2"></i>
                        Explore Features
                    </button>
                </div>

                <!-- Stats -->
                <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 max-w-2xl mx-auto">
                    <div class="text-center">
                        <div class="text-2xl lg:text-3xl font-bold text-primary-400" id="statsUsers">1.2K+</div>
                        <div class="text-sm text-slate-400">Developers</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl lg:text-3xl font-bold text-green-400" id="statsProjects">500+</div>
                        <div class="text-sm text-slate-400">Projects</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl lg:text-3xl font-bold text-purple-400" id="statsAPIs">50+</div>
                        <div class="text-sm text-slate-400">APIs</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl lg:text-3xl font-bold text-yellow-400" id="statsOnline">24/7</div>
                        <div class="text-sm text-slate-400">Active</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Dashboard Section -->
        <section id="dashboard" class="container mx-auto px-4 py-16">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-4 bg-gradient-to-r from-primary-400 to-purple-400 bg-clip-text text-transparent">
                    Developer Dashboard
                </h2>
                <p class="text-xl text-slate-400 max-w-2xl mx-auto">
                    Your personalized hub for coding, collaboration, and career growth
                </p>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="glassmorphic rounded-2xl p-6 hover:neon-glow transition-all duration-300 border border-slate-700/50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm font-medium">Reputation Score</p>
                            <p class="text-3xl font-bold text-yellow-400" id="userReputation">0</p>
                        </div>
                        <div class="w-12 h-12 bg-yellow-500/20 rounded-xl flex items-center justify-center">
                            <i class="fas fa-medal text-yellow-400 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-4">
                        <div class="w-full bg-slate-700 rounded-full h-2">
                            <div class="bg-yellow-400 h-2 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                </div>

                <div class="glassmorphic rounded-2xl p-6 hover:neon-glow transition-all duration-300 border border-slate-700/50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm font-medium">Projects</p>
                            <p class="text-3xl font-bold text-primary-400" id="userProjects">0</p>
                        </div>
                        <div class="w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center">
                            <i class="fas fa-code-branch text-primary-400 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span class="text-sm text-slate-400">+0 this month</span>
                    </div>
                </div>

                <div class="glassmorphic rounded-2xl p-6 hover:neon-glow transition-all duration-300 border border-slate-700/50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm font-medium">Followers</p>
                            <p class="text-3xl font-bold text-green-400" id="userFollowers">0</p>
                        </div>
                        <div class="w-12 h-12 bg-green-500/20 rounded-xl flex items-center justify-center">
                            <i class="fas fa-users text-green-400 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span class="text-sm text-slate-400">+0 new</span>
                    </div>
                </div>

                <div class="glassmorphic rounded-2xl p-6 hover:neon-glow transition-all duration-300 border border-slate-700/50">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-slate-400 text-sm font-medium">Following</p>
                            <p class="text-3xl font-bold text-purple-400" id="userFollowing">0</p>
                        </div>
                        <div class="w-12 h-12 bg-purple-500/20 rounded-xl flex items-center justify-center">
                            <i class="fas fa-user-plus text-purple-400 text-xl"></i>
                        </div>
                    </div>
                    <div class="mt-2">
                        <span class="text-sm text-slate-400">Network</span>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button onclick="scrollToSection('projects')" class="glassmorphic p-6 rounded-2xl text-center hover:neon-glow transition-all duration-300 border border-slate-700/50 group">
                    <div class="w-16 h-16 bg-primary-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-upload text-primary-400 text-2xl"></i>
                    </div>
                    <p class="font-semibold">Upload Project</p>
                    <p class="text-sm text-slate-400 mt-1">Share your work</p>
                </button>

                <button onclick="scrollToSection('apis')" class="glassmorphic p-6 rounded-2xl text-center hover:neon-glow transition-all duration-300 border border-slate-700/50 group">
                    <div class="w-16 h-16 bg-green-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-plug text-green-400 text-2xl"></i>
                    </div>
                    <p class="font-semibold">Test APIs</p>
                    <p class="text-sm text-slate-400 mt-1">Explore endpoints</p>
                </button>

                <button onclick="scrollToSection('school')" class="glassmorphic p-6 rounded-2xl text-center hover:neon-glow transition-all duration-300 border border-slate-700/50 group">
                    <div class="w-16 h-16 bg-yellow-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-graduation-cap text-yellow-400 text-2xl"></i>
                    </div>
                    <p class="font-semibold">Learn</p>
                    <p class="text-sm text-slate-400 mt-1">Devs School</p>
                </button>

                <button onclick="scrollToSection('hackathons')" class="glassmorphic p-6 rounded-2xl text-center hover:neon-glow transition-all duration-300 border border-slate-700/50 group">
                    <div class="w-16 h-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
                        <i class="fas fa-trophy text-red-400 text-2xl"></i>
                    </div>
                    <p class="font-semibold">Hackathons</p>
                    <p class="text-sm text-slate-400 mt-1">Join challenges</p>
                </button>
            </div>
        </section>

        <!-- Continue with other sections (Chat, Projects, API Hub, etc.) -->
        <!-- The rest of your existing sections would go here with similar enhanced styling -->

    </main>

    <!-- Auth Modal -->
    <div id="authModal" class="fixed inset-0 bg-black/80 hidden items-center justify-center z-50 p-4 backdrop-blur-sm">
        <div class="glassmorphic rounded-2xl p-8 max-w-md w-full mx-4 border border-slate-700/50 transform transition-all duration-300 scale-95">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-2xl font-bold bg-gradient-to-r from-primary-400 to-purple-400 bg-clip-text text-transparent" id="authModalTitle">
                    Welcome Back
                </h3>
                <button onclick="hideAuthModal()" class="w-10 h-10 rounded-xl glassmorphic flex items-center justify-center hover:neon-glow transition">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="authForm" class="space-y-6">
                <div id="registerFields" class="space-y-4 hidden">
                    <div>
                        <label class="block text-sm font-medium text-slate-400 mb-2">Full Name</label>
                        <input type="text" name="name" placeholder="Enter your full name" 
                               class="w-full bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-slate-400 mb-2">Role</label>
                            <select name="role" class="w-full bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                                <option value="">Select Role</option>
                                <option value="frontend">Frontend</option>
                                <option value="backend">Backend</option>
                                <option value="fullstack">Full-stack</option>
                                <option value="designer">Designer</option>
                                <option value="student">Student</option>
                                <option value="mentor">Mentor</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-slate-400 mb-2">Level</label>
                            <select name="level" class="w-full bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                                <option value="">Select Level</option>
                                <option value="beginner">Beginner</option>
                                <option value="intermediate">Intermediate</option>
                                <option value="pro">Pro</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-2">Email Address</label>
                    <input type="email" name="email" placeholder="Enter your email" 
                           class="w-full bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-slate-400 mb-2">Password</label>
                    <input type="password" name="password" placeholder="Enter your password" 
                           class="w-full bg-slate-800/50 border border-slate-700 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition">
                </div>
                
                <button type="submit" class="w-full bg-gradient-to-r from-primary-500 to-primary-600 py-4 rounded-xl font-semibold hover:neon-glow transition-all duration-300 transform hover:scale-105">
                    Continue
                </button>
            </form>
            
            <div class="mt-6">
                <button onclick="loginWithGitHub()" class="w-full glassmorphic py-4 rounded-xl font-semibold hover:neon-glow transition-all duration-300 border border-slate-700 flex items-center justify-center space-x-3">
                    <i class="fab fa-github text-xl"></i>
                    <span>Continue with GitHub</span>
                </button>
                
                <p class="text-center text-slate-400 mt-6">
                    <span id="authSwitchText">Don't have an account?</span>
                    <button id="authSwitch" class="text-primary-400 ml-1 hover:text-primary-300 font-semibold transition">
                        Sign up
                    </button>
                </p>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let socket = null;
        let currentUser = null;
        let currentChatRoom = null;

        // DOM Content Loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            checkAuthStatus();
            loadInitialData();
        });

        function initializeApp() {
            // Connect to Socket.IO
            socket = io();
            
            socket.on('connect', () => {
                console.log('Connected to server');
                if (currentUser) {
                    socket.emit('user_online', currentUser);
                }
            });

            socket.on('chat_message', (data) => {
                displayChatMessage(data);
            });

            socket.on('online_users', (users) => {
                updateOnlineUsers(users);
            });

            socket.on('user_joined', (data) => {
                displaySystemMessage(`${data.username} joined the chat`);
            });
        }

        function setupEventListeners() {
            // Mobile menu
            document.getElementById('mobileMenuBtn').addEventListener('click', toggleMobileMenu);
            document.getElementById('closeMobileMenu').addEventListener('click', toggleMobileMenu);

            // Notifications
            document.getElementById('notificationsBtn').addEventListener('click', toggleNotifications);

            // User dropdown
            document.getElementById('userDropdownBtn').addEventListener('click', toggleUserDropdown);

            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);

            // Auth modal switching
            document.getElementById('authSwitch').addEventListener('click', toggleAuthMode);
            document.getElementById('authForm').addEventListener('submit', handleAuthSubmit);

            // Close dropdowns when clicking outside
            document.addEventListener('click', function(event) {
                if (!event.target.closest('#userDropdown') && !event.target.closest('#userDropdownBtn')) {
                    document.getElementById('userDropdown').classList.add('hidden');
                }
                if (!event.target.closest('#notificationsPanel') && !event.target.closest('#notificationsBtn')) {
                    document.getElementById('notificationsPanel').classList.add('hidden');
                }
            });
        }

        // Mobile menu functions
        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const panel = menu.querySelector('div');
            menu.classList.toggle('hidden');
            
            if (!menu.classList.contains('hidden')) {
                panel.classList.remove('translate-y-full');
            } else {
                panel.classList.add('translate-y-full');
            }
        }

        // Navigation dropdown functions
        function toggleUserDropdown() {
            document.getElementById('userDropdown').classList.toggle('hidden');
        }

        function toggleNotifications() {
            document.getElementById('notificationsPanel').classList.toggle('hidden');
            if (!document.getElementById('notificationsPanel').classList.contains('hidden')) {
                loadNotifications();
            }
        }

        // Authentication functions
        function showAuthModal(mode) {
            const modal = document.getElementById('authModal');
            const title = document.getElementById('authModalTitle');
            const registerFields = document.getElementById('registerFields');
            const switchText = document.getElementById('authSwitchText');
            const switchBtn = document.getElementById('authSwitch');

            if (mode === 'register') {
                title.textContent = 'Join DEVS ARENA';
                registerFields.classList.remove('hidden');
                switchText.textContent = 'Already have an account?';
                switchBtn.textContent = 'Sign in';
            } else {
                title.textContent = 'Welcome Back';
                registerFields.classList.add('hidden');
                switchText.textContent = "Don't have an account?";
                switchBtn.textContent = 'Sign up';
            }

            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.querySelector('div').classList.remove('scale-95');
            }, 10);
        }

        function hideAuthModal() {
            const modal = document.getElementById('authModal');
            modal.querySelector('div').classList.add('scale-95');
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }

        function toggleAuthMode() {
            const currentMode = document.getElementById('authModalTitle').textContent.includes('Welcome Back') ? 'login' : 'register';
            showAuthModal(currentMode === 'login' ? 'register' : 'login');
        }

        async function handleAuthSubmit(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData);
            const isRegister = document.getElementById('registerFields').classList.contains('hidden') ? false : true;

            try {
                const response = await fetch('/api/auth/' + (isRegister ? 'register' : 'login'), {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (response.ok) {
                    localStorage.setItem('token', result.token);
                    currentUser = result.user;
                    updateUIAfterAuth();
                    hideAuthModal();
                    loadUserData();
                    loadNotifications();
                } else {
                    alert(result.message || 'Authentication failed');
                }
            } catch (error) {
                console.error('Auth error:', error);
                alert('Authentication failed. Please try again.');
            }
        }

        function loginWithGitHub() {
            window.location.href = '/auth/github';
        }

        function checkAuthStatus() {
            const token = localStorage.getItem('token');
            if (token) {
                fetch('/api/auth/me', {
                    headers: { 'Authorization': `Bearer ${token}` }
                })
                .then(response => {
                    if (!response.ok) throw new Error('Token invalid');
                    return response.json();
                })
                .then(user => {
                    currentUser = user;
                    updateUIAfterAuth();
                    loadUserData();
                    loadNotifications();
                })
                .catch(() => {
                    localStorage.removeItem('token');
                });
            }
        }

        function updateUIAfterAuth() {
            document.getElementById('authButtons').classList.add('hidden');
            document.getElementById('userMenu').classList.remove('hidden');
            
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userRole').textContent = currentUser.role || 'Developer';
            document.getElementById('userAvatar').src = currentUser.avatar || 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face';
            
            document.getElementById('dropdownName').textContent = currentUser.name;
            document.getElementById('dropdownEmail').textContent = currentUser.email;
            document.getElementById('dropdownAvatar').src = currentUser.avatar || 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=48&h=48&fit=crop&crop=face';

            if (currentUser.isAdmin) {
                document.getElementById('adminSection').classList.remove('hidden');
            }

            if (socket) {
                socket.emit('user_online', currentUser);
            }
        }

        function logout() {
            localStorage.removeItem('token');
            currentUser = null;
            document.getElementById('authButtons').classList.remove('hidden');
            document.getElementById('userMenu').classList.add('hidden');
            
            if (socket) {
                socket.disconnect();
                socket.connect();
            }
            
            window.location.reload();
        }

        // Data loading functions
        async function loadUserData() {
            try {
                const response = await fetch('/api/user/profile', {
                    headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }
                });
                const data = await response.json();
                
                if (response.ok) {
                    document.getElementById('userReputation').textContent = data.reputation || 0;
                    document.getElementById('userProjects').textContent = data.projectsCount || 0;
                    document.getElementById('userFollowers').textContent = data.followersCount || 0;
                    document.getElementById('userFollowing').textContent = data.followingCount || 0;
                }
            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        async function loadNotifications() {
            try {
                const response = await fetch('/api/notifications', {
                    headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }
                });
                const notifications = await response.json();
                
                const list = document.getElementById('notificationsList');
                const count = document.getElementById('notificationCount');
                
                if (notifications.length > 0) {
                    count.textContent = notifications.length;
                    count.classList.remove('hidden');
                    
                    list.innerHTML = notifications.map(notif => `
                        <div class="p-3 rounded-lg hover:bg-slate-800/50 transition cursor-pointer ${!notif.isRead ? 'bg-slate-800/30' : ''}">
                            <p class="text-sm">${notif.message}</p>
                            <span class="text-xs text-slate-400">${new Date(notif.createdAt).toLocaleDateString()}</span>
                        </div>
                    `).join('');
                } else {
                    count.classList.add('hidden');
                    list.innerHTML = '<p class="text-slate-400 text-center p-4">No notifications</p>';
                }
            } catch (error) {
                console.error('Error loading notifications:', error);
            }
        }

        async function loadInitialData() {
            // Load platform stats
            try {
                const response = await fetch('/api/admin/stats', {
                    headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` }
                });
                if (response.ok) {
                    const stats = await response.json();
                    document.getElementById('statsUsers').textContent = `${stats.usersCount}+`;
                    document.getElementById('statsProjects').textContent = `${stats.projectsCount}+`;
                    document.getElementById('statsAPIs').textContent = `${stats.apisCount}+`;
                }
            } catch (error) {
                // Use default stats if not admin
                document.getElementById('statsUsers').textContent = '1.2K+';
                document.getElementById('statsProjects').textContent = '500+';
                document.getElementById('statsAPIs').textContent = '50+';
            }
        }

        // Utility functions
        function toggleTheme() {
            document.documentElement.classList.toggle('dark');
            const icon = document.querySelector('#themeToggle i');
            icon.classList.toggle('fa-moon');
            icon.classList.toggle('fa-sun');
        }

        function scrollToSection(sectionId) {
            document.getElementById(sectionId)?.scrollIntoView({ behavior: 'smooth' });
        }

        // Check for OAuth callback
        const urlParams = new URLSearchParams(window.location.search);
        const token = urlParams.get('token');
        const user = urlParams.get('user');

        if (token && user) {
            localStorage.setItem('token', token);
            currentUser = JSON.parse(decodeURIComponent(user));
            updateUIAfterAuth();
            loadUserData();
            loadNotifications();
            
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    </script>
</body>
</html>
